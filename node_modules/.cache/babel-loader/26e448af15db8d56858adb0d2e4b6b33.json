{"ast":null,"code":"var _jsxFileName = \"/Users/samuel/Documents/Apps/Breda/HealthMedical/Frontend/healthmedical/src/pages/paciente/Agendar_Consulta/index.js\";\nimport React, { useContext, useState, useEffect, useMemo } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { format, subDays, addDays, setHours, setMinutes, setSeconds, isBefore, isEqual, parseISO } from 'date-fns';\nimport { utcToZonedTime } from 'date-fns-tz';\nimport { MdChevronLeft, MdChevronRight } from 'react-icons/md';\nimport pt from 'date-fns/locale/pt';\nimport { Container, HeaderDiv, Logo, BtnUser, BtnMenuHome, BtnMenuAgenda, BtnMenuRedeCredenciada, BtnMenuConsulta, BtnMenuSair, BodyDiv, MenuDiv, ConteudoDiv, ConteudoHeader, AgendamentoDiv, Time } from './styles';\nimport AuthContext from '../../../contexts/Auth';\nimport logo from '../../../assets/Image/Logo_Dashboard.png';\nexport default function Agendar_Consulta() {\n  // const { id } = useParams();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [date, setDate] = useState(new Date());\n  const [dados, setDados] = useState([]);\n  const [range] = useState([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24]);\n  const [response] = useState([{\n    id: 1,\n    nome: 'Samuel Rodrigues de Melo',\n    data: '2020-11-14T21:00:00.000',\n    medico: 'Jorge Amado',\n    status: true\n  }, {\n    id: 2,\n    nome: 'Samuel Rodrigues de Melo',\n    data: '2020-11-14T22:00:00.000',\n    medico: 'Jorge Amado',\n    status: true\n  }, {\n    id: 3,\n    nome: 'Em Aberto',\n    data: '2020-11-14T00:00:00.000',\n    medico: null,\n    status: false\n  }, {\n    id: 4,\n    nome: null,\n    data: '',\n    medico: '',\n    status: false\n  }, {\n    id: 5,\n    nome: '',\n    data: '',\n    medico: '',\n    status: false\n  }, {\n    id: 6,\n    nome: '',\n    data: '',\n    medico: '',\n    status: false\n  }, {\n    id: 7,\n    nome: '',\n    data: '',\n    medico: '',\n    status: false\n  }, {\n    id: 8,\n    nome: '',\n    data: '',\n    medico: '',\n    status: false\n  }, {\n    id: 9,\n    nome: '',\n    data: '',\n    medico: '',\n    status: false\n  }, {\n    id: 10,\n    nome: '',\n    data: '',\n    medico: '',\n    status: false\n  }, {\n    id: 11,\n    nome: 'Em Aberto',\n    data: '2020-11-14T00:00:00.000',\n    medico: null,\n    status: false\n  }, {\n    id: 12,\n    nome: 'Em Aberto',\n    data: '2020-11-14T00:00:00.000',\n    medico: null,\n    status: false\n  }, {\n    id: 13,\n    nome: 'Em Aberto',\n    data: '2020-11-14T00:00:00.000',\n    medico: null,\n    status: false\n  }, {\n    id: 14,\n    nome: 'Em Aberto',\n    data: '2020-11-14T00:00:00.000',\n    medico: null,\n    status: false\n  }, {\n    id: 15,\n    nome: 'Em Aberto',\n    data: '2020-11-14T00:00:00.000',\n    medico: null,\n    status: false\n  }, {\n    id: 16,\n    nome: 'Em Aberto',\n    data: '2020-11-14T00:00:00.000',\n    medico: null,\n    status: false\n  }, {\n    id: 17,\n    nome: 'Em Aberto',\n    data: '2020-11-14T00:00:00.000',\n    medico: null,\n    status: false\n  }, {\n    id: 18,\n    nome: 'Em Aberto',\n    data: '2020-11-14T00:00:00.000',\n    medico: null,\n    status: false\n  }, {\n    id: 19,\n    nome: 'Em Aberto',\n    data: '2020-11-14T00:00:00.000',\n    medico: null,\n    status: false\n  }, {\n    id: 20,\n    nome: 'Em Aberto',\n    data: '2020-11-14T00:00:00.000',\n    medico: null,\n    status: false\n  }, {\n    id: 21,\n    nome: 'Em Aberto',\n    data: '2020-11-14T00:00:00.000',\n    medico: null,\n    status: false\n  }, {\n    id: 22,\n    nome: 'Em Aberto',\n    data: '2020-11-14T00:00:00.000',\n    medico: null,\n    status: false\n  }, {\n    id: 23,\n    nome: 'Em Aberto',\n    data: '2020-11-14T00:00:00.000',\n    medico: null,\n    status: false\n  }, {\n    id: 24,\n    nome: 'Em Aberto',\n    data: '2020-11-14T00:00:00.000',\n    medico: null,\n    status: false\n  }]);\n  useEffect(() => {\n    function loadDados() {\n      const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n      const teste = range.map(hour => {\n        const checkDate = setSeconds(setMinutes(setHours(date, hour), 0), 0);\n        const compareDate = utcToZonedTime(checkDate, timezone);\n        return {\n          time: `${hour}:00h`,\n          past: isBefore(compareDate, new Date()),\n          status: response.find(function (a) {\n            if (a.status === false) {\n              return a;\n            } else {\n              return true;\n            }\n          }),\n          appointment: response.find(a => a) // appointment: response.find(a => \n          //   // console.log((parseISO(a.data), compareDate))\n          //   // a.status ? console.log(a.status + a.data) : console.log(a.status + a.data)\n          //   a.status ? true : false\n          // )\n\n        };\n      });\n      setDados(teste); // console.log(teste);\n    }\n\n    loadDados();\n  }, [date]);\n  const dateFormated = useMemo(() => format(date, \"d 'de' MMMM\", {\n    locale: pt\n  }), [date]);\n\n  function handlePrevDat() {\n    setDate(subDays(date, 1));\n  }\n\n  function handleNextDay() {\n    setDate(addDays(date, 1));\n  }\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(HeaderDiv, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/dashboard_Paciente\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Logo, {\n    src: logo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(BtnUser, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/dashboard_Paciente\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 11\n    }\n  }, user.nome))), /*#__PURE__*/React.createElement(BodyDiv, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MenuDiv, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(BtnMenuHome, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/dashboard_Paciente\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 13\n    }\n  }, \"Dashboard\")), /*#__PURE__*/React.createElement(BtnMenuAgenda, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/agendas_Paciente\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 13\n    }\n  }, \"Agendas\")), /*#__PURE__*/React.createElement(BtnMenuRedeCredenciada, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/rede_Credenciada\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 13\n    }\n  }, \"Rede Credenciada\")), /*#__PURE__*/React.createElement(BtnMenuConsulta, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/agendas_Paciente\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 13\n    }\n  }, \"Agendar Consulta\")), /*#__PURE__*/React.createElement(BtnMenuSair, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/signin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 13\n    }\n  }, \"Sair\"))), /*#__PURE__*/React.createElement(ConteudoDiv, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ConteudoHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handlePrevDat,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MdChevronLeft, {\n    size: 36,\n    color: \"#EE4131\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 13\n    }\n  }, dateFormated), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleNextDay,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MdChevronRight, {\n    size: 36,\n    color: \"#EE4131\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(AgendamentoDiv, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 13\n    }\n  }, dados.map(time => /*#__PURE__*/React.createElement(Time, {\n    key: time.time,\n    past: time.past,\n    available: !time.appointment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 21\n    }\n  }, time.time), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 21\n    }\n  }, time.appointment.status ? 'Em Aberto' : console.log(time.appointment.status)))))))));\n}","map":{"version":3,"sources":["/Users/samuel/Documents/Apps/Breda/HealthMedical/Frontend/healthmedical/src/pages/paciente/Agendar_Consulta/index.js"],"names":["React","useContext","useState","useEffect","useMemo","useParams","Link","format","subDays","addDays","setHours","setMinutes","setSeconds","isBefore","isEqual","parseISO","utcToZonedTime","MdChevronLeft","MdChevronRight","pt","Container","HeaderDiv","Logo","BtnUser","BtnMenuHome","BtnMenuAgenda","BtnMenuRedeCredenciada","BtnMenuConsulta","BtnMenuSair","BodyDiv","MenuDiv","ConteudoDiv","ConteudoHeader","AgendamentoDiv","Time","AuthContext","logo","Agendar_Consulta","user","date","setDate","Date","dados","setDados","range","response","id","nome","data","medico","status","loadDados","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","teste","map","hour","checkDate","compareDate","time","past","find","a","appointment","dateFormated","locale","handlePrevDat","handleNextDay","console","log"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect, useMemo } from 'react';\nimport { useParams, Link } from 'react-router-dom'\nimport { format, subDays, addDays, setHours, setMinutes, setSeconds, isBefore, isEqual, parseISO} from 'date-fns';\nimport { utcToZonedTime } from 'date-fns-tz'\nimport {MdChevronLeft, MdChevronRight} from 'react-icons/md';\nimport pt from 'date-fns/locale/pt';\n\nimport {\n  Container,\n  HeaderDiv,\n  Logo,\n  BtnUser,\n  BtnMenuHome,\n  BtnMenuAgenda,\n  BtnMenuRedeCredenciada,\n  BtnMenuConsulta,\n  BtnMenuSair,\n  BodyDiv,\n  MenuDiv,\n  ConteudoDiv,\n  ConteudoHeader,\n  AgendamentoDiv,\n  Time\n\n\n} from './styles';\nimport AuthContext from '../../../contexts/Auth'\n\nimport logo from '../../../assets/Image/Logo_Dashboard.png'\n\n\nexport default function Agendar_Consulta() {\n  // const { id } = useParams();\n  const { user } = useContext(AuthContext);\n  const [date, setDate] = useState(new Date());\n  const [dados, setDados] = useState([])\n  const [range] = useState([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24 ]);\n\n  const [response] = useState(\n    [{\n      id: 1,\n      nome: 'Samuel Rodrigues de Melo',\n      data: '2020-11-14T21:00:00.000',\n      medico: 'Jorge Amado',\n      status: true\n    },\n    {\n      id: 2,\n      nome: 'Samuel Rodrigues de Melo',\n      data: '2020-11-14T22:00:00.000',\n      medico: 'Jorge Amado',\n      status: true\n    },\n    {\n      id: 3,\n      nome: 'Em Aberto',\n      data: '2020-11-14T00:00:00.000',\n      medico: null,\n      status: false\n    },\n    {\n      id: 4,\n      nome: null,\n      data: '',\n      medico: '',\n      status: false\n    },\n    {\n      id: 5,\n      nome: '',\n      data: '',\n      medico: '',\n      status: false\n    },\n    {\n      id: 6,\n      nome: '',\n      data: '',\n      medico: '',\n      status: false\n    },\n    {\n      id: 7,\n      nome: '',\n      data: '',\n      medico: '',\n      status: false\n    },\n    {\n      id: 8,\n      nome: '',\n      data: '',\n      medico: '',\n      status: false\n    },\n    {\n      id: 9,\n      nome: '',\n      data: '',\n      medico: '',\n      status: false\n    },\n    {\n      id: 10,\n      nome: '',\n      data: '',\n      medico: '',\n      status: false\n    },\n    {\n      id: 11,\n      nome: 'Em Aberto',\n      data: '2020-11-14T00:00:00.000',\n      medico: null,\n      status: false\n    },    \n    {\n      id: 12,\n      nome: 'Em Aberto',\n      data: '2020-11-14T00:00:00.000',\n      medico: null,\n      status: false\n    },\n    {\n      id: 13,\n      nome: 'Em Aberto',\n      data: '2020-11-14T00:00:00.000',\n      medico: null,\n      status: false\n    },\n    {\n      id: 14,\n      nome: 'Em Aberto',\n      data: '2020-11-14T00:00:00.000',\n      medico: null,\n      status: false\n    },\n    {\n      id: 15,\n      nome: 'Em Aberto',\n      data: '2020-11-14T00:00:00.000',\n      medico: null,\n      status: false\n    },\n    {\n      id: 16,\n      nome: 'Em Aberto',\n      data: '2020-11-14T00:00:00.000',\n      medico: null,\n      status: false\n    },\n    {\n      id: 17,\n      nome: 'Em Aberto',\n      data: '2020-11-14T00:00:00.000',\n      medico: null,\n      status: false\n    },\n    {\n      id: 18,\n      nome: 'Em Aberto',\n      data: '2020-11-14T00:00:00.000',\n      medico: null,\n      status: false\n    },\n    {\n      id: 19,\n      nome: 'Em Aberto',\n      data: '2020-11-14T00:00:00.000',\n      medico: null,\n      status: false\n    },\n    {\n      id: 20,\n      nome: 'Em Aberto',\n      data: '2020-11-14T00:00:00.000',\n      medico: null,\n      status: false\n    },\n    {\n      id: 21,\n      nome: 'Em Aberto',\n      data: '2020-11-14T00:00:00.000',\n      medico: null,\n      status: false\n    },\n    {\n      id: 22,\n      nome: 'Em Aberto',\n      data: '2020-11-14T00:00:00.000',\n      medico: null,\n      status: false\n    },\n    {\n      id: 23,\n      nome: 'Em Aberto',\n      data: '2020-11-14T00:00:00.000',\n      medico: null,\n      status: false\n    },\n    {\n      id: 24,\n      nome: 'Em Aberto',\n      data: '2020-11-14T00:00:00.000',\n      medico: null,\n      status: false\n    },\n\n  ]\n  )\n\n  useEffect(() => {\n    function loadDados(){\n      const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n      const teste = range.map(hour => {\n        const checkDate = setSeconds(setMinutes(setHours(date, hour),0),0);\n        const compareDate = utcToZonedTime(checkDate, timezone);\n  \n        return {\n          time: `${hour}:00h`,\n          past: isBefore(compareDate, new Date()),\n          status:response.find(function(a){\n            if(a.status === false){\n              return a\n            }else{\n              return true\n            }\n          }),\n          appointment: response.find(a=> (a))\n          // appointment: response.find(a => \n          //   // console.log((parseISO(a.data), compareDate))\n            \n          //   // a.status ? console.log(a.status + a.data) : console.log(a.status + a.data)\n          //   a.status ? true : false\n            \n          // )\n        };\n      });\n      setDados(teste);\n      // console.log(teste);\n    }\n\n    loadDados();\n  },[date])\n\n  const dateFormated = useMemo(\n    () => format(date, \"d 'de' MMMM\", {locale: pt}),[date]\n  );\n\n  function handlePrevDat() {\n    setDate(subDays(date, 1));\n  }\n  function handleNextDay(){\n    setDate(addDays(date, 1));\n  }\n\n  return (\n    <Container>\n      <HeaderDiv>\n        <Link to={\"/dashboard_Paciente\"} >\n          <Logo src={logo} />\n        </Link>\n        <BtnUser>\n          <Link to={\"/dashboard_Paciente\"}>{user.nome}</Link>\n        </BtnUser>\n      </HeaderDiv>\n\n      <BodyDiv>\n        <MenuDiv>\n          <BtnMenuHome>\n            <Link to={\"/dashboard_Paciente\"}>Dashboard</Link>\n          </BtnMenuHome>\n          <BtnMenuAgenda>\n            <Link to={\"/agendas_Paciente\"}>Agendas</Link>\n          </BtnMenuAgenda>\n          <BtnMenuRedeCredenciada>\n            <Link to={\"/rede_Credenciada\"}>Rede Credenciada</Link>\n          </BtnMenuRedeCredenciada>\n          <BtnMenuConsulta>\n            <Link to={\"/agendas_Paciente\"}>Agendar Consulta</Link>\n          </BtnMenuConsulta>\n          <BtnMenuSair>\n            <Link to={\"/signin\"}>Sair</Link>\n          </BtnMenuSair>\n        </MenuDiv>\n\n        <ConteudoDiv>\n          <ConteudoHeader>\n            <button onClick={handlePrevDat} >\n              <MdChevronLeft size={36} color=\"#EE4131\" />\n          </button>\n            <strong>\n            {dateFormated}\n          </strong>\n            <button onClick={handleNextDay} >\n            <MdChevronRight size={36} color=\"#EE4131\" />\n          </button>\n          </ConteudoHeader>\n          \n          <AgendamentoDiv>\n            <ul>\n              {\n                dados.map(time => (\n                  <Time key={time.time} past={time.past} available={!time.appointment}>\n                    <strong>{time.time}</strong>\n                    <span>{time.appointment.status ? 'Em Aberto' : console.log(time.appointment.status)  }</span>\n                  </Time>\n                ))\n              }\n            </ul>\n          </AgendamentoDiv>\n          \n        </ConteudoDiv>\n      </BodyDiv>\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}